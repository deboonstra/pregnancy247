<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Determine sleep, nap, work, and monitor wear windows recorded by the
Actiwatch or by the subject in their diary."><title>Determine event windows for activities — windows • pregnancy247</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Determine event windows for activities — windows"><meta property="og:description" content="Determine sleep, nap, work, and monitor wear windows recorded by the
Actiwatch or by the subject in their diary."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pregnancy247</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/pregnancy247.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/process-data.html">Process data for the Pregnancy 24/7 study</a>
    <a class="dropdown-item" href="../articles/quality-check.html">Actiwatch data quality check</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Determine event windows for activities</h1>
      
      <div class="d-none name"><code>windows.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Determine sleep, nap, work, and monitor wear windows recorded by the
Actiwatch or by the subject in their diary.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">windows_sleep</span><span class="op">(</span><span class="va">sleep</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">windows_nap</span><span class="op">(</span><span class="va">sleep</span>, interval <span class="op">=</span> <span class="st">"first"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">windows_work</span><span class="op">(</span><span class="va">sleep</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">windows_monitor</span><span class="op">(</span><span class="va">sleep</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>sleep</dt>
<dd><p>A <code>data.sleep</code> object produced by <code><a href="read_sleep.html">read_sleep()</a></code>.</p></dd>


<dt>interval</dt>
<dd><p>For <code>windows_nap()</code>, a character taking a value of
<code>"first"</code> or <code>"second"</code> to denote if first or second napping windows. Default
is <code>"first"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>list</code> containing two numeric vectors named <code>start</code> and <code>end</code> that
are formatted as date-time (<code>POSIXct</code>) based on UTC time-zone.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These functions require that a <code>data.sleep</code> object is used as this
type of object contains the specific variable names to determine the daily
windows of sleep, naps, work, and monitor wear.</p>
<p>The sleep and nap windows may be soley on times recorded by the Actiwatch,
which tracks information based on activity, light, and event markers.
Variables that end with <code>input</code> will denote how the sleep and nap windows
should be recorded. Below is a list of the input values and their relation
to how the times are to be record.</p><ul><li><p><code>1</code> denotes event marker time</p></li>
<li><p><code>2</code> denotes white light time</p></li>
<li><p><code>3</code> denotes diary record time</p></li>
<li><p><code>4</code> denotes activity time</p></li>
</ul><p>Each of the windows are initialing created with diary dates recorded by the
subject. The dates and times are altered based on time of day in relation to
the initial date. As an example, suppose subject 0001-AB records information
in their diary on 01-01-2023, including their sleep onset and wake times.
With the Pregnancy 24/7 study, the start of each day begins with sleep onset.
So, the sleep onset and wake times initially start with the same date and
need to be altered so a wake time of 6:00 AM is actually recorded to occur on
01-02-2023 and not 01-01-2023. Or, if the sleep onset time was at 12:00 AM,
the date is recorded as 01-02-2023.</p>
<p><code>windows_work()</code> and <code>windows_monitor()</code> are soley based on times recorded
by the subject in their log.</p>
<p>The window creation functions also may require user input if their is a
missing date or time. It will prompt you with a question whether to proceed
with processing the windows given a certain day has missing data. If it is
known had of time that certain days will have invalid data the missing data
may not be problem, as the invalid data will be excluded later.</p>
<p>The <code>interval</code> parameter for <code>windows_nap</code> allows for recording two naps a
day during the wear period. It is assumed the second napping intervals have
variable names that end in <code>_b#</code>, where <code>#</code> denotes the wear day.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">wind_sleep</span> <span class="op">&lt;-</span> <span class="fu">windows_sleep</span><span class="op">(</span>sleep <span class="op">=</span> <span class="va">sleep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sleep_start</span> <span class="op">&lt;-</span> <span class="va">wind_sleep</span><span class="op">$</span><span class="va">start</span></span></span>
<span class="r-in"><span><span class="va">sleep_end</span> <span class="op">&lt;-</span> <span class="va">wind_sleep</span><span class="op">$</span><span class="va">end</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">wind_nap</span> <span class="op">&lt;-</span> <span class="fu">windows_nap</span><span class="op">(</span>sleep <span class="op">=</span> <span class="va">sleep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nap_start</span> <span class="op">&lt;-</span> <span class="va">wind_nap</span><span class="op">$</span><span class="va">start</span></span></span>
<span class="r-in"><span><span class="va">nap_end</span> <span class="op">&lt;-</span> <span class="va">wind_nap</span><span class="op">$</span><span class="va">end</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">wind_work</span> <span class="op">&lt;-</span> <span class="fu">windows_work</span><span class="op">(</span>sleep <span class="op">=</span> <span class="va">sleep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">work_start</span> <span class="op">&lt;-</span> <span class="va">wind_work</span><span class="op">$</span><span class="va">start</span></span></span>
<span class="r-in"><span><span class="va">work_end</span> <span class="op">&lt;-</span> <span class="va">wind_work</span><span class="op">$</span><span class="va">end</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">wind_monitor</span> <span class="op">&lt;-</span> <span class="fu">windows_monitor</span><span class="op">(</span>sleep <span class="op">=</span> <span class="va">sleep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">monitor_off</span> <span class="op">&lt;-</span> <span class="va">wind_monitor</span><span class="op">$</span><span class="va">start</span></span></span>
<span class="r-in"><span><span class="va">monitor_on</span> <span class="op">&lt;-</span> <span class="va">wind_monitor</span><span class="op">$</span><span class="va">end</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by D. Erik Boonstra.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

